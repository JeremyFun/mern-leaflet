{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nimport { Control } from 'leaflet';\nimport PropTypes from 'prop-types';\nimport React, { cloneElement, Component, Children } from 'react';\nimport MapControl from './MapControl';\nimport children from './propTypes/children';\nimport controlPosition from './propTypes/controlPosition';\nimport layerContainer from './propTypes/layerContainer';\nimport map from './propTypes/map';\nvar baseControlledLayerPropTypes = {\n  checked: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  removeLayer: PropTypes.func,\n  removeLayerControl: PropTypes.func\n};\n\nvar controlledLayerPropTypes = _extends({}, baseControlledLayerPropTypes, {\n  addBaseLayer: PropTypes.func,\n  addOverlay: PropTypes.func,\n  name: PropTypes.string.isRequired\n}); // Abtract class for layer container, extended by BaseLayer and Overlay\n\n\nvar ControlledLayer = function (_Component) {\n  _inherits(ControlledLayer, _Component);\n\n  function ControlledLayer() {\n    _classCallCheck(this, ControlledLayer);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  ControlledLayer.prototype.getChildContext = function getChildContext() {\n    return {\n      layerContainer: {\n        addLayer: this.addLayer.bind(this),\n        removeLayer: this.removeLayer.bind(this)\n      }\n    };\n  };\n\n  ControlledLayer.prototype.componentWillReceiveProps = function componentWillReceiveProps(_ref) {\n    var checked = _ref.checked; // Handle dynamically (un)checking the layer => adding/removing from the map\n\n    if (checked === true && (this.props.checked == null || this.props.checked === false)) {\n      this.context.map.addLayer(this.layer);\n    } else if (this.props.checked === true && (checked == null || checked === false)) {\n      this.context.map.removeLayer(this.layer);\n    }\n  };\n\n  ControlledLayer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeLayerControl(this.layer);\n  };\n\n  ControlledLayer.prototype.addLayer = function addLayer() {\n    throw new Error('Must be implemented in extending class');\n  };\n\n  ControlledLayer.prototype.removeLayer = function removeLayer(layer) {\n    this.props.removeLayer(layer);\n  };\n\n  ControlledLayer.prototype.render = function render() {\n    return this.props.children || null;\n  };\n\n  return ControlledLayer;\n}(Component);\n\nControlledLayer.propTypes = baseControlledLayerPropTypes;\nControlledLayer.contextTypes = {\n  map: map\n};\nControlledLayer.childContextTypes = {\n  layerContainer: layerContainer\n};\n\nvar BaseLayer = function (_ControlledLayer) {\n  _inherits(BaseLayer, _ControlledLayer);\n\n  function BaseLayer() {\n    _classCallCheck(this, BaseLayer);\n\n    return _possibleConstructorReturn(this, _ControlledLayer.apply(this, arguments));\n  }\n\n  BaseLayer.prototype.addLayer = function addLayer(layer) {\n    this.layer = layer; // Keep layer reference to handle dynamic changes of props\n\n    var _props = this.props,\n        addBaseLayer = _props.addBaseLayer,\n        checked = _props.checked,\n        name = _props.name;\n    addBaseLayer(layer, name, checked);\n  };\n\n  return BaseLayer;\n}(ControlledLayer);\n\nBaseLayer.propTypes = controlledLayerPropTypes;\n\nvar Overlay = function (_ControlledLayer2) {\n  _inherits(Overlay, _ControlledLayer2);\n\n  function Overlay() {\n    _classCallCheck(this, Overlay);\n\n    return _possibleConstructorReturn(this, _ControlledLayer2.apply(this, arguments));\n  }\n\n  Overlay.prototype.addLayer = function addLayer(layer) {\n    this.layer = layer; // Keep layer reference to handle dynamic changes of props\n\n    var _props2 = this.props,\n        addOverlay = _props2.addOverlay,\n        checked = _props2.checked,\n        name = _props2.name;\n    addOverlay(layer, name, checked);\n  };\n\n  return Overlay;\n}(ControlledLayer);\n\nOverlay.propTypes = controlledLayerPropTypes;\n\nvar LayersControl = function (_MapControl) {\n  _inherits(LayersControl, _MapControl);\n\n  function LayersControl() {\n    _classCallCheck(this, LayersControl);\n\n    return _possibleConstructorReturn(this, _MapControl.apply(this, arguments));\n  }\n\n  LayersControl.prototype.createLeafletElement = function createLeafletElement(props) {\n    var _children = props.children,\n        options = _objectWithoutProperties(props, ['children']);\n\n    return new Control.Layers(undefined, undefined, options);\n  };\n\n  LayersControl.prototype.componentWillMount = function componentWillMount() {\n    _MapControl.prototype.componentWillMount.call(this);\n\n    this.controlProps = {\n      addBaseLayer: this.addBaseLayer.bind(this),\n      addOverlay: this.addOverlay.bind(this),\n      removeLayer: this.removeLayer.bind(this),\n      removeLayerControl: this.removeLayerControl.bind(this)\n    };\n  };\n\n  LayersControl.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _this5 = this;\n\n    setTimeout(function () {\n      _MapControl.prototype.componentWillUnmount.call(_this5);\n    }, 0);\n  };\n\n  LayersControl.prototype.addBaseLayer = function addBaseLayer(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked) {\n      this.context.map.addLayer(layer);\n    }\n\n    this.leafletElement.addBaseLayer(layer, name);\n  };\n\n  LayersControl.prototype.addOverlay = function addOverlay(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked) {\n      this.context.map.addLayer(layer);\n    }\n\n    this.leafletElement.addOverlay(layer, name);\n  };\n\n  LayersControl.prototype.removeLayer = function removeLayer(layer) {\n    this.context.map.removeLayer(layer);\n  };\n\n  LayersControl.prototype.removeLayerControl = function removeLayerControl(layer) {\n    this.leafletElement.removeLayer(layer);\n  };\n\n  LayersControl.prototype.render = function render() {\n    var _this6 = this;\n\n    var children = Children.map(this.props.children, function (child) {\n      return child ? cloneElement(child, _this6.controlProps) : null;\n    });\n    return React.createElement('div', {\n      style: {\n        display: 'none'\n      }\n    }, children);\n  };\n\n  return LayersControl;\n}(MapControl);\n\nLayersControl.propTypes = {\n  baseLayers: PropTypes.object,\n  children: children,\n  overlays: PropTypes.object,\n  position: controlPosition\n};\nLayersControl.contextTypes = {\n  layerContainer: layerContainer,\n  map: map\n};\nexport default LayersControl;\nLayersControl.BaseLayer = BaseLayer;\nLayersControl.Overlay = Overlay;","map":{"version":3,"sources":["/home/kango/Documents/MERN Projects/react-leaflet-master/client/node_modules/react-leaflet/es/LayersControl.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","_defaults","defaults","getOwnPropertyNames","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","setPrototypeOf","Control","PropTypes","React","cloneElement","Component","Children","MapControl","children","controlPosition","layerContainer","map","baseControlledLayerPropTypes","checked","bool","node","isRequired","removeLayer","func","removeLayerControl","controlledLayerPropTypes","addBaseLayer","addOverlay","name","string","ControlledLayer","_Component","apply","getChildContext","addLayer","bind","componentWillReceiveProps","_ref","props","context","layer","componentWillUnmount","Error","render","propTypes","contextTypes","childContextTypes","BaseLayer","_ControlledLayer","_props","Overlay","_ControlledLayer2","_props2","LayersControl","_MapControl","createLeafletElement","_children","options","Layers","componentWillMount","controlProps","_this5","setTimeout","leafletElement","_this6","child","createElement","style","display","baseLayers","object","overlays","position"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport { Control } from 'leaflet';\nimport PropTypes from 'prop-types';\nimport React, { cloneElement, Component, Children } from 'react';\n\nimport MapControl from './MapControl';\nimport children from './propTypes/children';\nimport controlPosition from './propTypes/controlPosition';\nimport layerContainer from './propTypes/layerContainer';\nimport map from './propTypes/map';\n\n\nvar baseControlledLayerPropTypes = {\n  checked: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  removeLayer: PropTypes.func,\n  removeLayerControl: PropTypes.func\n};\n\nvar controlledLayerPropTypes = _extends({}, baseControlledLayerPropTypes, {\n  addBaseLayer: PropTypes.func,\n  addOverlay: PropTypes.func,\n  name: PropTypes.string.isRequired\n});\n\n// Abtract class for layer container, extended by BaseLayer and Overlay\nvar ControlledLayer = function (_Component) {\n  _inherits(ControlledLayer, _Component);\n\n  function ControlledLayer() {\n    _classCallCheck(this, ControlledLayer);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  ControlledLayer.prototype.getChildContext = function getChildContext() {\n    return {\n      layerContainer: {\n        addLayer: this.addLayer.bind(this),\n        removeLayer: this.removeLayer.bind(this)\n      }\n    };\n  };\n\n  ControlledLayer.prototype.componentWillReceiveProps = function componentWillReceiveProps(_ref) {\n    var checked = _ref.checked;\n\n    // Handle dynamically (un)checking the layer => adding/removing from the map\n    if (checked === true && (this.props.checked == null || this.props.checked === false)) {\n      this.context.map.addLayer(this.layer);\n    } else if (this.props.checked === true && (checked == null || checked === false)) {\n      this.context.map.removeLayer(this.layer);\n    }\n  };\n\n  ControlledLayer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeLayerControl(this.layer);\n  };\n\n  ControlledLayer.prototype.addLayer = function addLayer() {\n    throw new Error('Must be implemented in extending class');\n  };\n\n  ControlledLayer.prototype.removeLayer = function removeLayer(layer) {\n    this.props.removeLayer(layer);\n  };\n\n  ControlledLayer.prototype.render = function render() {\n    return this.props.children || null;\n  };\n\n  return ControlledLayer;\n}(Component);\n\nControlledLayer.propTypes = baseControlledLayerPropTypes;\nControlledLayer.contextTypes = {\n  map: map\n};\nControlledLayer.childContextTypes = {\n  layerContainer: layerContainer\n};\n\nvar BaseLayer = function (_ControlledLayer) {\n  _inherits(BaseLayer, _ControlledLayer);\n\n  function BaseLayer() {\n    _classCallCheck(this, BaseLayer);\n\n    return _possibleConstructorReturn(this, _ControlledLayer.apply(this, arguments));\n  }\n\n  BaseLayer.prototype.addLayer = function addLayer(layer) {\n    this.layer = layer; // Keep layer reference to handle dynamic changes of props\n    var _props = this.props,\n        addBaseLayer = _props.addBaseLayer,\n        checked = _props.checked,\n        name = _props.name;\n\n    addBaseLayer(layer, name, checked);\n  };\n\n  return BaseLayer;\n}(ControlledLayer);\n\nBaseLayer.propTypes = controlledLayerPropTypes;\n\nvar Overlay = function (_ControlledLayer2) {\n  _inherits(Overlay, _ControlledLayer2);\n\n  function Overlay() {\n    _classCallCheck(this, Overlay);\n\n    return _possibleConstructorReturn(this, _ControlledLayer2.apply(this, arguments));\n  }\n\n  Overlay.prototype.addLayer = function addLayer(layer) {\n    this.layer = layer; // Keep layer reference to handle dynamic changes of props\n    var _props2 = this.props,\n        addOverlay = _props2.addOverlay,\n        checked = _props2.checked,\n        name = _props2.name;\n\n    addOverlay(layer, name, checked);\n  };\n\n  return Overlay;\n}(ControlledLayer);\n\nOverlay.propTypes = controlledLayerPropTypes;\n\nvar LayersControl = function (_MapControl) {\n  _inherits(LayersControl, _MapControl);\n\n  function LayersControl() {\n    _classCallCheck(this, LayersControl);\n\n    return _possibleConstructorReturn(this, _MapControl.apply(this, arguments));\n  }\n\n  LayersControl.prototype.createLeafletElement = function createLeafletElement(props) {\n    var _children = props.children,\n        options = _objectWithoutProperties(props, ['children']);\n\n    return new Control.Layers(undefined, undefined, options);\n  };\n\n  LayersControl.prototype.componentWillMount = function componentWillMount() {\n    _MapControl.prototype.componentWillMount.call(this);\n    this.controlProps = {\n      addBaseLayer: this.addBaseLayer.bind(this),\n      addOverlay: this.addOverlay.bind(this),\n      removeLayer: this.removeLayer.bind(this),\n      removeLayerControl: this.removeLayerControl.bind(this)\n    };\n  };\n\n  LayersControl.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _this5 = this;\n\n    setTimeout(function () {\n      _MapControl.prototype.componentWillUnmount.call(_this5);\n    }, 0);\n  };\n\n  LayersControl.prototype.addBaseLayer = function addBaseLayer(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked) {\n      this.context.map.addLayer(layer);\n    }\n    this.leafletElement.addBaseLayer(layer, name);\n  };\n\n  LayersControl.prototype.addOverlay = function addOverlay(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked) {\n      this.context.map.addLayer(layer);\n    }\n    this.leafletElement.addOverlay(layer, name);\n  };\n\n  LayersControl.prototype.removeLayer = function removeLayer(layer) {\n    this.context.map.removeLayer(layer);\n  };\n\n  LayersControl.prototype.removeLayerControl = function removeLayerControl(layer) {\n    this.leafletElement.removeLayer(layer);\n  };\n\n  LayersControl.prototype.render = function render() {\n    var _this6 = this;\n\n    var children = Children.map(this.props.children, function (child) {\n      return child ? cloneElement(child, _this6.controlProps) : null;\n    });\n    return React.createElement(\n      'div',\n      { style: { display: 'none' } },\n      children\n    );\n  };\n\n  return LayersControl;\n}(MapControl);\n\nLayersControl.propTypes = {\n  baseLayers: PropTypes.object,\n  children: children,\n  overlays: PropTypes.object,\n  position: controlPosition\n};\nLayersControl.contextTypes = {\n  layerContainer: layerContainer,\n  map: map\n};\nexport default LayersControl;\n\n\nLayersControl.BaseLayer = BaseLayer;\nLayersControl.Overlay = Overlay;"]},"metadata":{},"sourceType":"module"}