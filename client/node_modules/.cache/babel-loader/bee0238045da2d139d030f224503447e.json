{"ast":null,"code":"var _jsxFileName = \"/home/kango/Documents/MERN Projects/react-leaflet-master/client/src/Components/GeojsonLayerFunc.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Marker, FeatureGroup, Popup } from 'react-leaflet';\nimport MarkerClusterGroup from \"react-leaflet-markercluster\";\n\nvar fetchData = function fetchData(url, options) {\n  let request = fetch(url, options);\n  return request.then(r => r.json()).then(data => data.features);\n};\n\nexport default function GeojsonLayer({\n  url,\n  cluster\n}) {\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    if (url) {\n      const abortController = new AbortController();\n      fetchData(url, {\n        signal: abortController.signal\n      }).then(data => {\n        setData(data);\n      }); // cancel fetch on component unmount\n\n      return () => {\n        console.log('');\n      };\n    }\n  }, [url]);\n  var GroupComponent = cluster ? MarkerClusterGroup : FeatureGroup; // console.info(data);\n\n  return /*#__PURE__*/React.createElement(GroupComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, data.map(f => /*#__PURE__*/React.createElement(Marker, {\n    key: JSON.stringify(f.properties),\n    position: f.geometry.coordinates.reverse(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Popup, {\n    minWidth: 200,\n    closeButton: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"red\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, \"Hello\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }\n  }, \"I am \", f.properties.name))))));\n}","map":{"version":3,"sources":["/home/kango/Documents/MERN Projects/react-leaflet-master/client/src/Components/GeojsonLayerFunc.jsx"],"names":["React","useState","useEffect","Marker","FeatureGroup","Popup","MarkerClusterGroup","fetchData","url","options","request","fetch","then","r","json","data","features","GeojsonLayer","cluster","setData","abortController","AbortController","signal","console","log","GroupComponent","map","f","JSON","stringify","properties","geometry","coordinates","reverse","backgroundColor","color","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAASC,MAAT,EAAiBC,YAAjB,EAA+BC,KAA/B,QAA4C,eAA5C;AACA,OAAOC,kBAAP,MAA+B,6BAA/B;;AAEA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwBC,OAAxB,EAAiC;AAC/C,MAAIC,OAAO,GAAGC,KAAK,CAACH,GAAD,EAAMC,OAAN,CAAnB;AAEA,SAAOC,OAAO,CACXE,IADI,CACCC,CAAC,IAAIA,CAAC,CAACC,IAAF,EADN,EAEJF,IAFI,CAECG,IAAI,IAAIA,IAAI,CAACC,QAFd,CAAP;AAGD,CAND;;AAQA,eAAe,SAASC,YAAT,CAAuB;AAACT,EAAAA,GAAD;AAAMU,EAAAA;AAAN,CAAvB,EAAuC;AACpD,QAAM,CAACH,IAAD,EAAOI,OAAP,IAAkBlB,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAK;AACb,QAAIM,GAAJ,EAAS;AACP,YAAMY,eAAe,GAAG,IAAIC,eAAJ,EAAxB;AAEAd,MAAAA,SAAS,CAACC,GAAD,EAAM;AAAEc,QAAAA,MAAM,EAAEF,eAAe,CAACE;AAA1B,OAAN,CAAT,CAAmDV,IAAnD,CAAwDG,IAAI,IAAI;AAC9DI,QAAAA,OAAO,CAACJ,IAAD,CAAP;AACD,OAFD,EAHO,CAOP;;AACA,aAAO,MAAM;AACnBQ,QAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ;AAAsB,OADhB;AAED;AAEF,GAbQ,EAaN,CAAChB,GAAD,CAbM,CAAT;AAeA,MAAIiB,cAAc,GAAGP,OAAO,GAAGZ,kBAAH,GAAwBF,YAApD,CAlBoD,CAoBpD;;AACA,sBACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGW,IAAI,CAACW,GAAL,CAASC,CAAC,iBACP,oBAAC,MAAD;AACE,IAAA,GAAG,EAAEC,IAAI,CAACC,SAAL,CAAeF,CAAC,CAACG,UAAjB,CADP;AAEE,IAAA,QAAQ,EAAEH,CAAC,CAACI,QAAF,CAAWC,WAAX,CAAuBC,OAAvB,EAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAE,GAAjB;AAAsB,IAAA,WAAW,EAAE,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,eAAe,EAAC,KAAjB;AAAwBC,MAAAA,KAAK,EAAC;AAA9B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAASR,CAAC,CAACG,UAAF,CAAaM,IAAtB,CAFF,CADF,CAJF,CADH,CADH,CADJ;AAiBD","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport { Marker, FeatureGroup, Popup } from 'react-leaflet';\nimport MarkerClusterGroup from \"react-leaflet-markercluster\";\n\nvar fetchData = function fetchData(url, options) {\n  let request = fetch(url, options);\n\n  return request\n    .then(r => r.json())\n    .then(data => data.features);\n}\n\nexport default function GeojsonLayer ({url, cluster}) {\n  const [data, setData] = useState([]);\n\n  useEffect(()=> {\n    if (url) {\n      const abortController = new AbortController();\n\n      fetchData(url, { signal: abortController.signal }).then(data => {\n        setData(data);\n      });\n\n      // cancel fetch on component unmount\n      return () => {\nconsole.log('')      };\n    }\n\n  }, [url]);\n\n  var GroupComponent = cluster ? MarkerClusterGroup : FeatureGroup;\n\n  // console.info(data);\n  return (\n      <GroupComponent>\n        {data.map(f => (\n            <Marker\n              key={JSON.stringify(f.properties)}\n              position={f.geometry.coordinates.reverse()}\n            >\n              <Popup minWidth={200} closeButton={false}>\n                <div style={{backgroundColor:\"red\", color:\"white\"}}>\n                  <b>Hello</b>\n                  <p>I am {f.properties.name}</p>\n                </div>\n              </Popup>\n            </Marker>\n        ))}\n      </GroupComponent>\n  );\n}"]},"metadata":{},"sourceType":"module"}